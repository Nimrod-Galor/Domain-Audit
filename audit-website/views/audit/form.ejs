<%- include('../partials/header', { title: 'Website Audit - SiteScope', user: user }) %>

<!-- Audit Form Section -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="text-center mb-5">
                    <h1 class="display-5 fw-bold">Website Audit</h1>
                    <p class="lead text-muted">
                        Enter your website URL to get a comprehensive analysis of your site's performance, 
                        SEO, and user experience.
                    </p>
                </div>

                <!-- Error Display -->
                <% if (error) { %>
                <div class="alert alert-danger alert-dismissible fade show mb-4" role="alert">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    <%= error %>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                <% } %>

                <!-- Audit Form -->
                <div class="card shadow-lg">
                    <div class="card-body p-5">
                        <form action="/audit/analyze" method="POST" id="auditForm">
                            <div class="mb-4">
                                <label for="url" class="form-label h5">Website URL</label>
                                <div class="input-group input-group-lg">
                                    <span class="input-group-text">
                                        <i class="fas fa-globe"></i>
                                    </span>
                                    <input 
                                        type="url" 
                                        class="form-control" 
                                        id="url" 
                                        name="url" 
                                        placeholder="https://example.com"
                                        required
                                        value="<%= url || '' %>"
                                    >
                                </div>
                                <div class="form-text">
                                    <i class="fas fa-info-circle me-1"></i>
                                    Make sure to include the full URL with https://
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary btn-lg" id="submitBtn">
                                    <i class="fas fa-search me-2"></i>
                                    Start Audit
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Features Highlights -->
                <div class="mt-5">
                    <div class="text-center mb-4">
                        <h3 class="fw-bold">Comprehensive Website Analysis</h3>
                        <p class="text-muted">Get detailed insights into every aspect of your website</p>
                    </div>
                    
                    <div class="row g-4">
                        <div class="col-md-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center p-4">
                                    <div class="bg-primary bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                        <i class="fas fa-tachometer-alt fa-lg"></i>
                                    </div>
                                    <h6 class="fw-bold">Performance Analysis</h6>
                                    <small class="text-muted">Page load times, optimization opportunities, and Core Web Vitals assessment</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center p-4">
                                    <div class="bg-success bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                        <i class="fas fa-search fa-lg"></i>
                                    </div>
                                    <h6 class="fw-bold">SEO Optimization</h6>
                                    <small class="text-muted">Meta tags, headings, keywords, and search engine visibility checks</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center p-4">
                                    <div class="bg-info bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                        <i class="fas fa-universal-access fa-lg"></i>
                                    </div>
                                    <h6 class="fw-bold">Accessibility Check</h6>
                                    <small class="text-muted">WCAG compliance, alt text, and user experience for all abilities</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center p-4">
                                    <div class="bg-warning bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                        <i class="fas fa-shield-alt fa-lg"></i>
                                    </div>
                                    <h6 class="fw-bold">Security Scan</h6>
                                    <small class="text-muted">SSL certificates, security headers, and vulnerability detection</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center p-4">
                                    <div class="bg-danger bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                        <i class="fas fa-link fa-lg"></i>
                                    </div>
                                    <h6 class="fw-bold">Broken Link Detection</h6>
                                    <small class="text-muted">Identify dead links, 404 errors, and redirect chains across your site</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center p-4">
                                    <div class="bg-secondary bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                        <i class="fas fa-mobile-alt fa-lg"></i>
                                    </div>
                                    <h6 class="fw-bold">Mobile Responsiveness</h6>
                                    <small class="text-muted">Mobile-first design analysis and responsive layout testing</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center p-4">
                                    <div class="bg-dark bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                        <i class="fas fa-code fa-lg"></i>
                                    </div>
                                    <h6 class="fw-bold">Technical Audit</h6>
                                    <small class="text-muted">HTML validation, structured data, and technical SEO factors</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center p-4">
                                    <div class="bg-purple bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px; background-color: #6f42c1 !important;">
                                        <i class="fas fa-chart-bar fa-lg"></i>
                                    </div>
                                    <h6 class="fw-bold">Detailed Reports</h6>
                                    <small class="text-muted">Comprehensive analytics with actionable recommendations and priority fixes</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body text-center p-4">
                                    <div class="bg-success bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                        <i class="fas fa-bolt fa-lg"></i>
                                    </div>
                                    <h6 class="fw-bold">Real-time Analysis</h6>
                                    <small class="text-muted">Live crawling with instant feedback and progress tracking</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Info Cards -->
                <div class="row g-4 mt-4">
                    <div class="col-md-4">
                        <div class="text-center">
                            <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                <i class="fas fa-clock fa-lg"></i>
                            </div>
                            <h6>Fast Results</h6>
                            <small class="text-muted">Get your audit results in under 60 seconds</small>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <div class="bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                <i class="fas fa-shield-alt fa-lg"></i>
                            </div>
                            <h6>Secure & Private</h6>
                            <small class="text-muted">Your data is processed securely and not stored</small>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <div class="bg-info text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                                <i class="fas fa-download fa-lg"></i>
                            </div>
                            <h6>Download Reports</h6>
                            <small class="text-muted">Export your results as PDF or JSON</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- JavaScript for form enhancement -->
<script>
document.getElementById('auditForm').addEventListener('submit', function(e) {
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Analyzing...';
    submitBtn.disabled = true;
});

// URL validation
document.getElementById('url').addEventListener('blur', function() {
    const url = this.value;
    if (url && !url.startsWith('http://') && !url.startsWith('https://')) {
        this.value = 'https://' + url;
    }
});
</script>

<%- include('../partials/footer') %>
