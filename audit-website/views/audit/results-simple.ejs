<%- include('../partials/header', { title: 'Simple Report - ' + url + ' - SiteScope', user: user }) %>

<!-- Custom Styles for Simple Report -->
<style>
.detail-section {
    max-height: 250px;
    overflow-y: auto;
    border: 1px solid #dee2e6;
    border-radius: 0.375rem;
    padding: 1rem;
}

.link-item {
    display: flex;
    justify-content: between;
    align-items: flex-start;
    padding: 0.75rem 0;
    border-bottom: 1px solid #f8f9fa;
}

.link-item:last-child {
    border-bottom: none;
}

.link-details {
    flex: 1;
    margin-left: 1rem;
}

.collapse-trigger {
    cursor: pointer;
    color: #007bff;
    text-decoration: underline;
    font-size: 0.875rem;
}

.collapse-trigger:hover {
    color: #0056b3;
}

.status-badge {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
}

.section-link:hover {
    text-decoration: none;
    transform: translateY(-2px);
    transition: all 0.2s ease-in-out;
}

.anchor-list, .found-list {
    font-size: 0.8rem;
    color: #6c757d;
    margin-top: 0.25rem;
}

.unscanned-note {
    background-color: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 0.375rem;
    padding: 0.75rem;
    margin-top: 1rem;
    font-size: 0.875rem;
    color: #856404;
}
</style>

<!-- Results Section -->
<section class="py-5">
    <div class="container">
        <!-- Header -->
        <div class="row mb-5">
            <div class="col-lg-12">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h1 class="display-6 fw-bold">Simple Audit Report</h1>
                        <p class="lead text-muted mb-0">
                            <i class="fas fa-globe me-2"></i><%= url %>
                        </p>
                        <div class="d-flex align-items-center gap-2">
                            <small class="text-muted">
                                <i class="fas fa-clock me-1"></i>Generated: <%= new Date(timestamp).toLocaleString() %>
                            </small>
                            <% if (typeof fromDatabase !== 'undefined' && fromDatabase) { %>
                                <span class="badge bg-info">
                                    <i class="fas fa-database me-1"></i>From Database
                                </span>
                            <% } %>
                            <% if (typeof fromCache !== 'undefined' && fromCache) { %>
                                <span class="badge bg-success">
                                    <i class="fas fa-bolt me-1"></i>Cached Result
                                </span>
                            <% } %>
                            <% if (typeof isHistorical !== 'undefined' && isHistorical) { %>
                                <span class="badge bg-secondary">
                                    <i class="fas fa-history me-1"></i>Historical Report
                                </span>
                            <% } %>
                        </div>
                    </div>
                    <div>
                        <a href="/audit/full/<%= encodeURIComponent(url) %>" class="btn btn-primary">
                            <i class="fas fa-chart-line me-2"></i>Full Report
                        </a>
                        <a href="/audit" class="btn btn-outline-secondary">
                            <i class="fas fa-plus me-2"></i>New Audit
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary Section -->
        <div class="row g-4 mb-5">
            <div class="col-md-3">
                <a href="#internal-links-section" class="section-link text-decoration-none">
                    <div class="card bg-info text-white h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-link fa-2x mb-3"></i>
                            <h4 class="mb-1">Internal Links</h4>
                            <% 
                                const internalLinksScanned = data.detailed && data.detailed.allStats ? Object.keys(data.detailed.allStats).length : 0;
                                const internalLinksFound = data.summary ? data.summary.totalInternalLinks || 0 : 0;
                                const internalLinksErrors = data.detailed && data.detailed.allBadRequests ? Object.keys(data.detailed.allBadRequests).length : 0;
                            %>
                            <p class="mb-1 small">Scanned: <%= internalLinksScanned %></p>
                            <p class="mb-1 small">Found: <%= internalLinksFound %></p>
                            <p class="mb-0 small">Errors: <%= internalLinksErrors %></p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-3">
                <a href="#external-links-section" class="section-link text-decoration-none">
                    <div class="card bg-warning text-white h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-external-link-alt fa-2x mb-3"></i>
                            <h4 class="mb-1">External Links</h4>
                            <% 
                                const externalLinksScanned = data.detailed && data.detailed.allExternalLinks ? Object.keys(data.detailed.allExternalLinks).length : 0;
                                const externalLinksFound = data.summary ? data.summary.totalExternalLinks || 0 : 0;
                                let externalLinksErrors = 0;
                                if (data.detailed && data.detailed.allExternalLinks) {
                                    for (const [url, linkData] of Object.entries(data.detailed.allExternalLinks)) {
                                        const status = linkData.status;
                                        if (!(typeof status === 'number' && status >= 200 && status < 300)) {
                                            externalLinksErrors++;
                                        }
                                    }
                                }
                            %>
                            <p class="mb-1 small">Scanned: <%= externalLinksScanned %></p>
                            <p class="mb-1 small">Found: <%= externalLinksFound %></p>
                            <p class="mb-0 small">Errors: <%= externalLinksErrors %></p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-3">
                <a href="#emails-section" class="section-link text-decoration-none">
                    <div class="card bg-success text-white h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-envelope fa-2x mb-3"></i>
                            <h4 class="mb-1">Email Links</h4>
                            <% const emailLinksCount = data.detailed && data.detailed.mailtoLinks ? Object.keys(data.detailed.mailtoLinks).length : 0; %>
                            <p class="mb-0 small">Found: <%= emailLinksCount %></p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-3">
                <a href="#telephones-section" class="section-link text-decoration-none">
                    <div class="card bg-secondary text-white h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-phone fa-2x mb-3"></i>
                            <h4 class="mb-1">Phone Links</h4>
                            <% const phoneLinksCount = data.detailed && data.detailed.telLinks ? Object.keys(data.detailed.telLinks).length : 0; %>
                            <p class="mb-0 small">Found: <%= phoneLinksCount %></p>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <!-- Internal Links Detail Section -->
        <div class="row mb-5" id="internal-links-section">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0">
                            <i class="fas fa-link me-2"></i>Internal Links Details
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- Scanned Internal Links -->
                        <h6 class="text-primary mb-3">✅ Scanned Internal Links</h6>
                        <div class="detail-section mb-4">
                            <% if (data.detailed && data.detailed.allStats && Object.keys(data.detailed.allStats).length > 0) { %>
                                <% Object.entries(data.detailed.allStats).forEach(function([url, linkData], index) { %>
                                    <div class="link-item">
                                        <div style="flex: 1;">
                                            <a href="<%= url %>" target="_blank" class="text-decoration-none">
                                                <%= url %>
                                            </a>
                                            <span class="status-badge badge bg-success ms-2">200</span>
                                            <span class="badge bg-info ms-1"><%= linkData.count || 0 %> occurrences</span>
                                        </div>
                                        <div class="link-details">
                                            <% if (linkData.anchors && Array.from(linkData.anchors).length > 0) { %>
                                                <div>
                                                    <span class="collapse-trigger" onclick="toggleCollapse('anchors_<%= index %>', 'found_<%= index %>')">
                                                        Show <%= Array.from(linkData.anchors).length %> anchors
                                                    </span>
                                                    <div id="anchors_<%= index %>" class="collapse anchor-list">
                                                        <strong>Anchors:</strong> <%= Array.from(linkData.anchors).join(', ') %>
                                                    </div>
                                                </div>
                                            <% } %>
                                            <% if (linkData.sources && Array.from(linkData.sources).length > 0) { %>
                                                <div>
                                                    <span class="collapse-trigger" onclick="toggleCollapse('found_<%= index %>', 'anchors_<%= index %>')">
                                                        Show <%= Array.from(linkData.sources).length %> found locations
                                                    </span>
                                                    <div id="found_<%= index %>" class="collapse found-list">
                                                        <strong>Found in:</strong> <%= Array.from(linkData.sources).join(', ') %>
                                                    </div>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                <% }); %>
                            <% } else { %>
                                <p class="text-muted mb-0">No scanned internal links found.</p>
                            <% } %>
                        </div>

                        <!-- Internal Links with Errors -->
                        <h6 class="text-danger mb-3">❌ Internal Links with Errors</h6>
                        <div class="detail-section">
                            <% if (data.detailed && data.detailed.allBadRequests && Object.keys(data.detailed.allBadRequests).length > 0) { %>
                                <% Object.entries(data.detailed.allBadRequests).forEach(function([url, linkData], index) { %>
                                    <div class="link-item">
                                        <div style="flex: 1;">
                                            <a href="<%= url %>" target="_blank" class="text-decoration-none">
                                                <%= url %>
                                            </a>
                                            <span class="status-badge badge bg-danger ms-2"><%= linkData.status || 'Error' %></span>
                                            <span class="badge bg-warning ms-1"><%= (linkData.sources && Array.from(linkData.sources).length) || 0 %> occurrences</span>
                                        </div>
                                        <div class="link-details">
                                            <% if (linkData.sources && Array.from(linkData.sources).length > 0) { %>
                                                <div>
                                                    <span class="collapse-trigger" onclick="toggleCollapse('error_found_<%= index %>')">
                                                        Show <%= Array.from(linkData.sources).length %> found locations
                                                    </span>
                                                    <div id="error_found_<%= index %>" class="collapse found-list">
                                                        <strong>Found in:</strong> <%= Array.from(linkData.sources).join(', ') %>
                                                    </div>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                <% }); %>
                            <% } else { %>
                                <p class="text-muted mb-0">No broken internal links found.</p>
                            <% } %>
                        </div>

                        <!-- Unscanned Links Note -->
                        <% if (internalLinksFound > internalLinksScanned) { %>
                            <div class="unscanned-note">
                                <i class="fas fa-info-circle me-2"></i>
                                <strong>Note:</strong> <%= internalLinksFound - internalLinksScanned %> internal links were found but not scanned due to scan limits or free tier restrictions.
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>
        </div>

        <!-- External Links Detail Section -->
        <div class="row mb-5" id="external-links-section">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-warning text-white">
                        <h5 class="mb-0">
                            <i class="fas fa-external-link-alt me-2"></i>External Links Details
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- User Limit Notice for Unregistered Users -->
                        <% if (!user) { %>
                        <div class="alert alert-warning mb-3" role="alert">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Limited Analysis:</strong> Only 10 external links were checked (unregistered user limit). 
                            <a href="/auth/register" class="alert-link">Register</a> for unlimited external link analysis.
                        </div>
                        <% } %>
                        
                        <!-- Successful External Links -->
                        <h6 class="text-success mb-3">✅ Successful External Links</h6>
                        <div class="detail-section mb-4">
                            <% if (data.detailed && data.detailed.allExternalLinks && Object.keys(data.detailed.allExternalLinks).length > 0) { %>
                                <%
                                    // Filter successful external links
                                    const successfulExternalLinks = Object.entries(data.detailed.allExternalLinks).filter(function([url, linkData]) {
                                        const status = linkData.status;
                                        return (typeof status === 'number' && status >= 200 && status < 400);
                                    });
                                %>
                                <% if (successfulExternalLinks.length > 0) { %>
                                    <% successfulExternalLinks.forEach(function([url, linkData], index) { %>
                                        <div class="link-item">
                                            <div style="flex: 1;">
                                                <a href="<%= url %>" target="_blank" class="text-decoration-none">
                                                    <%= url %>
                                                </a>
                                                <% 
                                                    const status = linkData.status;
                                                    let statusClass = 'bg-success';
                                                    let statusText = status;
                                                    if (typeof status === 'number' && status >= 200 && status < 300) {
                                                        statusClass = 'bg-success';
                                                    } else if (status >= 300 && status < 400) {
                                                        statusClass = 'bg-info';
                                                    }
                                                %>
                                                <span class="status-badge badge <%= statusClass %> ms-2"><%= statusText %></span>
                                                <span class="badge bg-info ms-1"><%= (linkData.sources && Array.from(linkData.sources).length) || 0 %> occurrences</span>
                                            </div>
                                            <div class="link-details">
                                                <% if (linkData.sources && Array.from(linkData.sources).length > 0) { %>
                                                    <div>
                                                        <span class="collapse-trigger" onclick="toggleCollapse('ext_success_<%= index %>')">
                                                            Show <%= Array.from(linkData.sources).length %> found locations
                                                        </span>
                                                        <div id="ext_success_<%= index %>" class="collapse found-list">
                                                            <strong>Found in:</strong> <%= Array.from(linkData.sources).join(', ') %>
                                                        </div>
                                                    </div>
                                                <% } %>
                                            </div>
                                        </div>
                                    <% }); %>
                                <% } else { %>
                                    <p class="text-muted mb-0">No successful external links found.</p>
                                <% } %>
                            <% } else { %>
                                <p class="text-muted mb-0">No successful external links found.</p>
                            <% } %>
                        </div>

                        <!-- External Links with Errors -->
                        <h6 class="text-danger mb-3">❌ External Links with Errors</h6>
                        <div class="detail-section">
                            <% if (data.detailed && data.detailed.allExternalLinks && Object.keys(data.detailed.allExternalLinks).length > 0) { %>
                                <%
                                    // Filter external links with errors
                                    const errorExternalLinks = Object.entries(data.detailed.allExternalLinks).filter(function([url, linkData]) {
                                        const status = linkData.status;
                                        return !(typeof status === 'number' && status >= 200 && status < 400);
                                    });
                                %>
                                <% if (errorExternalLinks.length > 0) { %>
                                    <% errorExternalLinks.forEach(function([url, linkData], index) { %>
                                        <div class="link-item">
                                            <div style="flex: 1;">
                                                <a href="<%= url %>" target="_blank" class="text-decoration-none">
                                                    <%= url %>
                                                </a>
                                                <% 
                                                    const status = linkData.status;
                                                    let statusClass = 'bg-danger';
                                                    let statusText = status;
                                                    if (status === 'TIMEOUT') {
                                                        statusClass = 'bg-warning';
                                                    } else if (status === 'FETCH_ERROR') {
                                                        statusClass = 'bg-danger';
                                                    }
                                                %>
                                                <span class="status-badge badge <%= statusClass %> ms-2"><%= statusText %></span>
                                                <span class="badge bg-warning ms-1"><%= (linkData.sources && Array.from(linkData.sources).length) || 0 %> occurrences</span>
                                            </div>
                                            <div class="link-details">
                                                <% if (linkData.sources && Array.from(linkData.sources).length > 0) { %>
                                                    <div>
                                                        <span class="collapse-trigger" onclick="toggleCollapse('ext_error_<%= index %>')">
                                                            Show <%= Array.from(linkData.sources).length %> found locations
                                                        </span>
                                                        <div id="ext_error_<%= index %>" class="collapse found-list">
                                                            <strong>Found in:</strong> <%= Array.from(linkData.sources).join(', ') %>
                                                        </div>
                                                    </div>
                                                <% } %>
                                            </div>
                                        </div>
                                    <% }); %>
                                <% } else { %>
                                    <p class="text-muted mb-0">No broken external links found.</p>
                                <% } %>
                            <% } else { %>
                                <p class="text-muted mb-0">No broken external links found.</p>
                            <% } %>
                        </div>

                        <!-- Unscanned External Links Note -->
                        <% if (externalLinksFound > externalLinksScanned) { %>
                            <div class="unscanned-note">
                                <i class="fas fa-info-circle me-2"></i>
                                <strong>Note:</strong> <%= externalLinksFound - externalLinksScanned %> external links were found but not scanned due to scan limits or free tier restrictions.
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>
        </div>

        <!-- Email Links Detail Section -->
        <div class="row mb-5" id="emails-section">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0">
                            <i class="fas fa-envelope me-2"></i>Email Links Details
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="detail-section">
                            <% if (data.detailed && data.detailed.mailtoLinks && Object.keys(data.detailed.mailtoLinks).length > 0) { %>
                                <% Object.entries(data.detailed.mailtoLinks).forEach(function([email, linkData], index) { %>
                                    <div class="link-item">
                                        <div style="flex: 1;">
                                            <a href="<%= email %>" target="_blank" class="text-decoration-none">
                                                <i class="fas fa-envelope me-2"></i><%= email.replace('mailto:', '') %>
                                            </a>
                                            <span class="badge bg-success ms-2">Valid</span>
                                            <span class="badge bg-info ms-1"><%= (linkData.sources && Array.from(linkData.sources).length) || 0 %> occurrences</span>
                                        </div>
                                        <div class="link-details">
                                            <% if (linkData.anchors && Array.from(linkData.anchors).length > 0) { %>
                                                <div>
                                                    <span class="collapse-trigger" onclick="toggleCollapse('email_anchors_<%= index %>', 'email_found_<%= index %>')">
                                                        Show <%= Array.from(linkData.anchors).length %> anchors
                                                    </span>
                                                    <div id="email_anchors_<%= index %>" class="collapse anchor-list">
                                                        <strong>Anchors:</strong> <%= Array.from(linkData.anchors).join(', ') %>
                                                    </div>
                                                </div>
                                            <% } %>
                                            <% if (linkData.sources && Array.from(linkData.sources).length > 0) { %>
                                                <div>
                                                    <span class="collapse-trigger" onclick="toggleCollapse('email_found_<%= index %>', 'email_anchors_<%= index %>')">
                                                        Show <%= Array.from(linkData.sources).length %> found locations
                                                    </span>
                                                    <div id="email_found_<%= index %>" class="collapse found-list">
                                                        <strong>Found in:</strong> <%= Array.from(linkData.sources).join(', ') %>
                                                    </div>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                <% }); %>
                            <% } else { %>
                                <p class="text-muted mb-0">No email links found.</p>
                            <% } %>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Phone Links Detail Section -->
        <div class="row mb-5" id="telephones-section">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-secondary text-white">
                        <h5 class="mb-0">
                            <i class="fas fa-phone me-2"></i>Phone Links Details
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="detail-section">
                            <% if (data.detailed && data.detailed.telLinks && Object.keys(data.detailed.telLinks).length > 0) { %>
                                <% Object.entries(data.detailed.telLinks).forEach(function([phone, linkData], index) { %>
                                    <div class="link-item">
                                        <div style="flex: 1;">
                                            <a href="<%= phone %>" target="_blank" class="text-decoration-none">
                                                <i class="fas fa-phone me-2"></i><%= phone.replace('tel:', '') %>
                                            </a>
                                            <span class="badge bg-success ms-2">Valid</span>
                                            <span class="badge bg-info ms-1"><%= (linkData.sources && Array.from(linkData.sources).length) || 0 %> occurrences</span>
                                        </div>
                                        <div class="link-details">
                                            <% if (linkData.anchors && Array.from(linkData.anchors).length > 0) { %>
                                                <div>
                                                    <span class="collapse-trigger" onclick="toggleCollapse('phone_anchors_<%= index %>', 'phone_found_<%= index %>')">
                                                        Show <%= Array.from(linkData.anchors).length %> anchors
                                                    </span>
                                                    <div id="phone_anchors_<%= index %>" class="collapse anchor-list">
                                                        <strong>Anchors:</strong> <%= Array.from(linkData.anchors).join(', ') %>
                                                    </div>
                                                </div>
                                            <% } %>
                                            <% if (linkData.sources && Array.from(linkData.sources).length > 0) { %>
                                                <div>
                                                    <span class="collapse-trigger" onclick="toggleCollapse('phone_found_<%= index %>', 'phone_anchors_<%= index %>')">
                                                        Show <%= Array.from(linkData.sources).length %> found locations
                                                    </span>
                                                    <div id="phone_found_<%= index %>" class="collapse found-list">
                                                        <strong>Found in:</strong> <%= Array.from(linkData.sources).join(', ') %>
                                                    </div>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                <% }); %>
                            <% } else { %>
                                <p class="text-muted mb-0">No phone links found.</p>
                            <% } %>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Actions -->
        <div class="row">
            <div class="col-12">
                <div class="card bg-light">
                    <div class="card-body text-center">
                        <h5 class="card-title">Want More Details?</h5>
                        <p class="card-text">Get a comprehensive analysis with SEO insights, performance metrics, and detailed recommendations.</p>
                        <a href="/audit/full/<%= encodeURIComponent(url) %>" class="btn btn-primary btn-lg me-3">
                            <i class="fas fa-chart-line me-2"></i>Generate Full Report
                        </a>
                        <a href="/audit" class="btn btn-outline-secondary btn-lg">
                            <i class="fas fa-plus me-2"></i>Audit Another Site
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- JavaScript for Collapsible Functionality -->
<script>
function toggleCollapse(primaryId, secondaryId) {
    // Get primary element
    const primaryElement = document.getElementById(primaryId);
    if (!primaryElement) return;
    
    // Toggle primary element
    const isShowing = primaryElement.classList.contains('show');
    if (isShowing) {
        primaryElement.classList.remove('show');
    } else {
        primaryElement.classList.add('show');
    }
    
    // If secondary ID is provided, toggle it in sync
    if (secondaryId) {
        const secondaryElement = document.getElementById(secondaryId);
        if (secondaryElement) {
            if (isShowing) {
                secondaryElement.classList.remove('show');
            } else {
                secondaryElement.classList.add('show');
            }
        }
    }
    
    // Update trigger text
    const trigger = event.target;
    if (trigger) {
        const originalText = trigger.textContent;
        if (isShowing) {
            // Currently showing, so we're hiding it
            trigger.textContent = originalText.replace('Hide', 'Show');
        } else {
            // Currently hidden, so we're showing it
            trigger.textContent = originalText.replace('Show', 'Hide');
        }
    }
}

// Enhanced CSS for collapse functionality
const style = document.createElement('style');
style.textContent = `
    .collapse {
        display: none;
        margin-top: 0.5rem;
        padding: 0.5rem;
        background-color: #f8f9fa;
        border-radius: 0.25rem;
        border-left: 3px solid #007bff;
    }
    
    .collapse.show {
        display: block;
    }
    
    .collapse-trigger:hover {
        background-color: rgba(0, 123, 255, 0.1);
        padding: 2px 6px;
        border-radius: 3px;
    }
    
    .link-item:hover {
        background-color: #f8f9fa;
        border-radius: 0.375rem;
        padding: 0.75rem;
        margin: 0 -0.75rem;
    }
    
    .detail-section::-webkit-scrollbar {
        width: 8px;
    }
    
    .detail-section::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }
    
    .detail-section::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 4px;
    }
    
    .detail-section::-webkit-scrollbar-thumb:hover {
        background: #555;
    }
`;
document.head.appendChild(style);

// Smooth scrolling for section links
document.addEventListener('DOMContentLoaded', function() {
    // Add smooth scrolling to all section links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>

<%- include('../partials/footer') %>
